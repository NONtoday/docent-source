@if (resultaatService.laatstOpgeslagenOp$ | async; as opgeslagenOp) {
    @if (resultaatService.opslaanGefaald$ | async) {
        @if (opgeslagenOp !== 'saving') {
            <hmy-icon-pill
                class="opnieuw"
                [hoverable]="true"
                (click)="resultaatService.retry()"
                data-gtm="resultaten-opnieuw-opslaan"
                icon="verversen"
                iconSize="smallest"
                text="Opnieuw"></hmy-icon-pill>
        }
        @if (opgeslagenOp !== 'saving' && !withBackground) {
            <i
                class="niet-gelukt"
                [onTouchAllowed]="true"
                hmyIcon="noRadio"
                size="medium"
                hmyTooltip="Het automatisch opslaan is niet gelukt."></i>
        }
        @if (opgeslagenOp !== 'saving' && withBackground) {
            <dt-background-icon
                [onTouchAllowed]="true"
                icon="noRadio"
                size="small"
                color="negative"
                fontsize="24"
                lineheight="26"
                hmyTooltip="Het automatisch opslaan is niet gelukt."
                position="bottom">
            </dt-background-icon>
        }
    } @else {
        @if (opgeslagenOp !== 'saving' && withBackground) {
            <dt-background-icon
                [hmyTooltip]="opgeslagenOp"
                [onTouchAllowed]="true"
                icon="yesRadio"
                size="small"
                color="positive"
                fontsize="24"
                lineheight="26"
                position="bottom">
            </dt-background-icon>
        }
        @if (opgeslagenOp !== 'saving' && !withBackground) {
            <i [hmyTooltip]="opgeslagenOp" [onTouchAllowed]="true" color="action-positive-normal" hmyIcon="yesRadio" size="medium"></i>
        }
    }
    @if (opgeslagenOp === 'saving') {
        <hmy-spinner />
    }
}
